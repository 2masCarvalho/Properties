{% extends 'main.html' %}

{% block content %}
  <div class="edit-profile-container">
    <h2>Edit Profile</h2>
    <form method="POST" class="edit-profile-form" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="form-group picture-group">
        <label for="{{ profile_form.profile_picture.id_for_label }}">Profile picture:</label>
        {{ profile_form.profile_picture }}
        {% if user.profile.profile_picture %}
          <img src="{{ user.profile.profile_picture.url }}" alt="Profile picture" class="profile-picture-preview"/>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ user_form.username.id_for_label }}">Username:</label>
        {{ user_form.username }}
      </div>

      <div class="form-group">
        <label for="{{ user_form.first_name.id_for_label }}">First name:</label>
        {{ user_form.first_name }}
      </div>

      <div class="form-group">
        <label for="{{ user_form.last_name.id_for_label }}">Last name:</label>
        {{ user_form.last_name }}
      </div>

      <div class="form-group">
        <label for="{{ user_form.email.id_for_label }}">Email:</label>
        {{ user_form.email }}
      </div>

      <div class="form-group">
        <label for="{{ profile_form.address.id_for_label }}">Address:</label>
        {{ profile_form.address }}
      </div>

      <div class="form-group">
        <label for="{{ profile_form.phone_number.id_for_label }}">Phone number:</label>
        {{ profile_form.phone_number }}
      </div>

      <div class="form-actions">
        <button type="submit" class="button">Update</button>
        <a href="{% url 'profile' %}" class="button cancel-button">Cancel</a>
      </div>
    </form>
  </div>
{% endblock %}